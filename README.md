
### Архитектура
Приложение построено по слоистой архитектуре с четким разделением ответственности:
- **Controllers**: Принимают запросы и возвращают DTO.
- **Services**: Содержат бизнес-логику (парсинг, валидация, расчет статистики). Реализован паттерн «Стратегия» для возможности расширения поддерживаемых форматов файлов.
- **Repositories**: Изолируют работу с базой данных и используют транзакции для обеспечения атомарности (очистка старых данных + вставка новых).

## Структура API

Приложение предоставляет 3 метода:
1. `POST /api/MeasurementData/upload` — Загрузка CSV файла. Выполняет валидацию по ТЗ (даты, значения, количество строк). Если файл с таким именем уже был, он будет перезаписан.
2. `GET /api/MeasurementData/results` — Получение списка накопленной статистики с поддержкой фильтрации (по имени, датам, средним показателям).
3. `GET /api/MeasurementData/values/last10` — Получение 10 последних записей для конкретного файла.

## Запуск проекта

### Требования
- .NET 10
- EF Core
- PostgreSQL
- Swagger

### Настройка
1. Склонируйте репозиторий.
2. Настройте строку подключения в `appsettings.json` (секция `DefaultConnection`).
3. Запустите проект:
   ```bash
   dotnet run
   ```


## Тестирование
Для запуска тестов используйте команду:
```bash
dotnet test
```
Всего реализовано 25 Unit-тестов, покрывающих:
- Логику парсера CSV.
- Валидацию данных (граничные значения дат, отрицательные числа).
- Расчет статистики (включая медиану).
- Orchestration-логику сервиса обработки.
